import subprocess
import lit.formats
## Autogenerated by LLVM/Polli configuration.
# Do not edit!
llvm_config = os.path.join("@LLVM_TOOLS_DIR@", "llvm-config")

config.llvm_src_root = "@LLVM_SOURCE_DIR@"
config.llvm_obj_root = "@LLVM_BINARY_DIR@"
config.llvm_tools_dir ="@LLVM_TOOLS_DIR@"
config.llvm_libs_dir = "@LLVM_LIBS_DIR@"
config.llvm_tools_install_dir = "@LLVM_TOOLS_INSTALL_DIR@"
config.llvm_binary_dir = "@LLVM_BINARY_DIR@"
config.llvm_install_prefix = "@LLVM_INSTALL_PREFIX@"
config.polli_obj_root = "@POLLI_OBJ_ROOT@"
config.polli_lib_dir = "@POLLI_LIB_DIR@"
config.target_triple = "@TARGET_TRIPLE@"

## Check the current platform with regex
import re
EAT_ERR_ON_X86 = ' '
if (re.match(r'^x86_64*', '@TARGET_TRIPLE@') == None) :
  EAT_ERR_ON_X86 = '|| echo \"error is eaten\"'

# Let the main config do the real work.
lit_config.load_config(config, "@POLLI_SOURCE_DIR@/test/lit.cfg")
